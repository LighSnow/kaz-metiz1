$(document).ready((function(){$(".reviews__slider > .slick-next.slick-arrow").addClass("active"),$(".reviews__slider > .slick-arrow").click((function(){$(this).addClass("active"),$(".reviews__slider > .slick-arrow").not($(this)).removeClass("active")}));var e=document.querySelector(".menu__icon"),t=document.querySelector(".menu__body"),n=document.querySelector(".content"),r=document.querySelector("body");e.addEventListener("click",(function(){e.classList.toggle("js-hidden"),t.classList.toggle("js-opened"),n.classList.toggle("js-opened"),r.classList.toggle("lock"),e.classList.contains("js-hidden")||(subMenu.classList.remove("open"),thisArrow.classList.remove("active"),mobileLink.classList.remove("active"),r.classList.remove("lock"))})),n.addEventListener("click",(function(i){var s=i.target;s!==t&&t.classList.contains("js-opened")&&s!==e&&s.parentNode!==e&&(e.classList.remove("js-hidden"),t.classList.remove("js-opened"),n.classList.remove("js-opened"),subMenu.classList.remove("open"),thisArrow.classList.remove("active"),mobileLink.classList.remove("active"),r.classList.remove("lock"))}));$("#slider").slick({slidesToShow:1,slidesToScroll:1,easing:"swing",dots:!0,arrows:!1,fade:!0,speed:700,customPaging:function(e,t){return"<button>0"+(t+1)+"</button>"}}),$(".scrap-metal__slider").length>0&&$(".scrap-metal__slider").slick({arrows:!0,dots:!1}),$(".minus").click((function(){var e=$(this).parent().find("input"),t=parseInt(e.val())-1;return t=t<1?1:t,e.val(t),e.change(),!1})),$(".plus").click((function(){var e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1})),$(document).on("click",".accordion__header, [data-accordion-navigation] a",(function(e){e.preventDefault();var t=$(this),i=$(window).scrollTop(),n=$(".header.fixed .header__main");if(t.hasClass("accordion__header"))var r=t.closest(".accordion");else r=$(t.attr("href"));r.siblings(".accordion").removeClass("accordion--active").find(".accordion__content:visible").slideUp(250),r.toggleClass("accordion--active"),r.find(".accordion__content").slideToggle(250),setTimeout((function(){var e=0;n.length&&(e=n.innerHeight()),i>r.offset().top?$("html, body").animate({scrollTop:r.offset().top-e-30},600):t.hasClass("accordion__header")||$("html, body").animate({scrollTop:r.offset().top-e-30},600)}),300)})),$('[data-fancybox="reviews-images"]').fancybox({thumbs:{showOnStart:!0},hash:!0}),$(".reviews__slider").length>0&&$(".reviews__slider").slick({slidesToShow:5,slidesToScroll:1,infinite:!0,dots:!1,arrows:!0,responsive:[{breakpoint:1110,settings:{arrows:!0,slidesToShow:4}},{breakpoint:997,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:375,settings:{slidesToShow:1}}]}),$(".partners__slider").length>0&&$(".partners__slider").slick({slidesToShow:5,slidesToScroll:1,infinite:!0,dots:!1,arrows:!0,responsive:[{breakpoint:1110,settings:{arrows:!0,slidesToShow:4}},{breakpoint:997,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:375,settings:{slidesToShow:1}}]}),$(".slider-for").length>0&&$(".slider-for").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".slider-nav",responsive:[{breakpoint:881,settings:{arrows:!0,fade:!1}}]}),$(".slider-nav").length>0&&$(".slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".slider-for",dots:!1,arrows:!0,focusOnSelect:!0,responsive:[{breakpoint:1366,settings:{arrows:!0,slidesToShow:3}}]}),$("#toggle").click((function(){"Развернуть"==$("#toggle").text()?($("#toggle").text("Спрятать"),$("#text").toggleClass("active")):($("#toggle").text("Развернуть"),$("#text").removeClass("active"))})),function(){let e=[],t=document.querySelectorAll("[data-da]"),i=[],n=[];if(t.length>0){let l=0;for(let n=0;n<t.length;n++){const r=t[n],o=r.getAttribute("data-da");if(""!=o){const t=o.split(","),n=t[1]?t[1].trim():"last",c=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(r.setAttribute("data-da-index",l),e[l]={parent:r.parentNode,index:(s=r,a=void 0,a=Array.prototype.slice.call(s.parentNode.children),a.indexOf(s))},i[l]={element:r,destination:document.querySelector("."+t[0].trim()),place:n,breakpoint:c,type:d},l++)}}(r=i).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),r.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<i.length;e++){const t=i[e],r=t.breakpoint,s=t.type;n.push(window.matchMedia("("+s+"-width: "+r+"px)")),n[e].addListener(o)}}var r,s,a;function o(e){for(let e=0;e<i.length;e++){const t=i[e],r=t.element,s=t.destination,a=t.place,o="_dynamic_adapt_"+t.breakpoint;if(n[e].matches){if(!r.classList.contains(o)){let e=c(s)[a];"first"===a?e=c(s)[0]:"last"===a&&(e=c(s)[c(s).length]),s.insertBefore(r,s.children[e]),r.classList.add(o)}}else r.classList.contains(o)&&(l(r),r.classList.remove(o))}}function l(t){const i=t.getAttribute("data-da-index"),n=e[i],r=n.parent,s=n.index,a=c(r,!0)[s];r.insertBefore(t,r.children[a])}function c(e,t){const i=e.children,n=[];for(let e=0;e<i.length;e++){const r=i[e];(t||null==r.getAttribute("data-da"))&&n.push(e)}return n}o()}(),$(".history__tabs-wrapper .tab").on("click",(function(e){var t=$(this).attr("data-id");return $(".history__tabs-wrapper").find(".tab-item").removeClass("active-tab").hide(),$(".history__tabs-wrapper .tabs").find(".tab").removeClass("active"),$(this).addClass("active"),$("#"+t).addClass("active-tab").fadeIn(),!1}));var s=$(".history__gallery-wrapper");if(s.length){var a,o,l=document.createElement("div");l.classList.add("slider__counter");var c=function(e,t){a=e.slickCurrentSlide()+1,o=e.slideCount,$(l).text(a+"/"+o)};s.on("init",(function(e,t){s.append(l),c(t)})),s.on("afterChange",(function(e,t,i){c(t)})),s.slick()}var d=$(".history__charity-slider");if(d.length){var u,m,g=document.createElement("div");g.classList.add("charity-slider__counter");var p=function(e,t){u=e.slickCurrentSlide()+1,m=e.slideCount,$(g).text(u+"/"+m)};d.on("init",(function(e,t){d.append(g),p(t)})),d.on("afterChange",(function(e,t,i){p(t)})),d.slick()}$.validator.addMethod("regexpName",(function(e,t){return/^[A-Za-zА-Яа-я]+/.test(e)}),"Это поле должно содержать Имя и Фамилию!"),$.validator.addMethod("regexpLang",(function(e,t){return/^[А-Яа-я]+$/.test(e)}),"Это поле должно быть на русском языке!"),$.validator.addMethod("regexpLogin",(function(e,t){return/^[A-Za-z0-9]+$/.test(e)}),"Логин должен состоять из латинских букв и цифр!"),$.validator.addMethod("regexpPassword",(function(e,t){return/[A-Za-zА-Яа-я]+/.test(e)}),"Пароль должен содержать минимум 6 символов и 1 букву!"),$.validator.addMethod("regexpEmail",(function(e,t){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}),"Email должен содержать минимум 6 символов и 1 букву!"),$("#callback__form").validate({rules:{name:{regexpName:!0,required:!0,minlength:3},phone:{required:!0,minlength:18}}}),$("#work__form").validate({rules:{name:{regexpName:!0,required:!0,minlength:3},pos:{regexpName:!0,required:!0,minlength:3},email:{regexpEmail:!0,required:!0,email:!0},address:{required:!0,minlength:3},phone:{required:!0,minlength:18}}}),$("#form__offers").validate({rules:{name:{regexpName:!0,required:!0,minlength:3},pos:{regexpName:!0,required:!0,minlength:3},email:{regexpEmail:!0,required:!0,email:!0},address:{required:!0,minlength:3},phone:{required:!0,minlength:18},org:{required:!0,minlength:3}}}),$("#btn-submit").click((function(){$("#order__form").validate({rules:{name:{regexpName:!0,required:!0,minlength:3},email:{regexpEmail:!0,required:!0,email:!0},address:{required:!0,minlength:3},phone:{required:!0,minlength:18}}})})),$(".mask-phone").mask("+0 (000) 000-00-00");let h={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return h.Android()||h.BlackBerry()||h.iOS()||h.Opera()||h.Windows()}},f=document.querySelector("body");if(h.any()){f.classList.add("touch");var v=document.querySelectorAll(".arrow");for(i=0;i<v.length;i++){let e=v[i].previousElementSibling,t=v[i].nextElementSibling,n=v[i];e.classList.add("parent"),v[i].addEventListener("click",(function(){t.classList.toggle("open"),n.classList.toggle("active"),e.classList.toggle("active")}))}}else f.classList.add("mouse");Array.prototype.forEach.call(document.querySelectorAll(".file-upload__button"),(function(e){const t=e.parentElement.querySelector(".file-upload__input"),i=e.parentElement.querySelector(".file-upload__label");i.textContent="Файл не выбран",i.title="Файл не выбран",e.addEventListener("click",(function(){t.click()})),t.addEventListener("change",(function(){const e=Array.prototype.map.call(t.files,(function(e){return e.name}));i.textContent=e.join(", ")||"Файл не выбран",i.title=i.textContent}))}))}));